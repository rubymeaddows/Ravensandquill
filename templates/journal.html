<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ journal.title }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<header class="site-header">
  <div class="logo-title">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="Site Crest" class="site-logo">
    <div class="site-text">
      <h1 class="site-heading">Ravens & Quill</h1>
      <p class="site-motto">Legere est credere</p>
    </div>
  </div>
  <div class="profile-icon">
    <a href="/profile">
      <img src="{{ url_for('static', filename='profile_icon.png') }}" alt="Profile Icon">
    </a>
  </div>
</header>

<!-- Sidebar Navigation -->
<aside class="sidebar">
  <h2>Ravens & Quill</h2>
  <nav>
    <a href="/">Home</a>
    <a href="/profile">Profile</a>
    <a href="/author">Author</a>
    <a href="/silence">If The Silence Fell</a>
    <a href="/quotes">Quote Library</a>
    <a href="/aesthetics">Various Aesthetics</a>
    <a href="{{ url_for('all_journals') }}">Reading Journal</a>
  </nav>
  <div class="sidebar-book">
    <img src="{{ url_for('static', filename='book1.png') }}" alt="Book" class="book-icon">
  </div>
</aside>

  <style>
    body {
      margin: 0;
      padding: 0;
      background-image: url('{{ url_for("static", filename="journal-bg.png") }}');
      background-size: cover;
      background-attachment: fixed;
      font-family: 'Cormorant Garamond', serif;
      color: #bfb6a8;
    }

    .journal-box {
      max-width: 800px;
      margin: 4rem auto;
      padding: 2rem;
      background-color: rgba(38, 34, 28, 0.92);
      border: 1px solid #8b5e3c;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.6);
    }

    .journal-box h2 {
      font-size: 2rem;
      color: #d2b48c;
      text-align: center;
      margin-bottom: 1rem;
      border-bottom: 1px dotted #8b5e3c;
      padding-bottom: 0.5rem;
    }

    .journal-box p,
    .journal-box h3 {
      margin-top: 1rem;
      line-height: 1.6;
    }

    .cover-thumbnail {
      display: block;
      max-width: 200px;
      margin: 1rem auto;
      border: 2px solid #cbb279;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
    }

    .ceremonial-divider {
      border: none;
      border-top: 1px dotted #8b5e3c;
      margin: 2rem 0;
    }

    .parchment-quote {
      background-color: rgba(212, 190, 140, 0.1);
      padding: 1rem;
      border-left: 4px solid #cbb279;
      font-style: italic;
      box-shadow: inset 0 0 6px rgba(255,255,255,0.1);
    }

    .add-button {
      display: inline-block;
      margin-top: 2rem;
      padding: 0.6rem 1.2rem;
      background-color: #8b5e3c;
      color: #f5f0e6;
      border-radius: 4px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }

    .add-button:hover {
      background-color: #a67c52;
    }
  </style>
</head>
<body>

<div class="journal-box">
  <h2>{{ journal.title }}</h2>
  <p><em>Written by:</em> {{ journal.author }}</p>

  <img src="{{ journal.cover_image_url }}" alt="Book Cover" class="cover-thumbnail">



  <p><strong>Tags:</strong> {{ journal.tags }}</p>
  <p><strong>Theme:</strong> {{ journal.theme }}</p>

  <hr class="ceremonial-divider">

  <p><em>Relic awakened on:</em> {{ journal.date_started}}</p>
  <p><em>Relic sealed on:</em> {{ journal.date_finished}}</p>
  <p><strong>Status:</strong> {{ journal.status }}</p>
  <p><strong>Visibility:</strong> {% if journal.is_hidden %}Hidden from the Archive{% else %}Visible to the Archive{% endif %}</p>

  <hr class="ceremonial-divider">

  <h3>Lines That Linger</h3>
  <blockquote class="parchment-quote">{{ journal.quotes }}</blockquote>

  <h3>Rating</h3>
  <p>
    {% for i in range(journal.rating_crowns) %}
      ðŸ‘‘
    {% endfor %}
  </p>

  <h3>Reflection</h3>
  <p>{{ journal.reflection }}</p>

  <h3>Thoughts â€“ Characters</h3>
  <p>{{ journal.thoughts_characters }}</p>

  <h3>Thoughts â€“ Plot</h3>
  <p>{{ journal.thoughts_plot }}</p>

  <div class="delete-button-container">
  <form action="{{ url_for('delete_journal', journal_id=journal.id) }}" method="POST" onsubmit="return confirm('Seal this journal forever? This cannot be undone.')">
    <button type="submit" class="delete-button">Erase Journal</button>
  </form>
</div>

  <div class="revise-link-wrapper">
  <a href="{{ url_for('edit_journal', journal_id=journal.id) }}">
    <button class="revise-link-button">Inscribe Journal Revisions</button>
  </a>
</div>



<!-- View existing journal (conditional) -->
<a href="{{ url_for('reading_journal_redirect') }}">Journal</a>

<!-- Always create a new journal -->
<a href="{{ url_for('create_reading_journal') }}">Add Journal</a>

</div>

</body>
</html>
